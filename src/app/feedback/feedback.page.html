<style>
    :root {
        --ion-safe-area-top: 20px;
        --ion-safe-area-bottom: 22px;
    }
    .swiper-slide {
        display: block;
    }
    ion-slide > h2 {
        margin-top: 2.8rem;
    }
    /*ion-slides {*/
    /*    height: 50px;*/
    /*}*/
</style>
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Guide: {{ guide.title }}
    </ion-title>
    <sync-spinner-component slot="primary"></sync-spinner-component>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
    <div *ngIf="guide.steps && guideSteps.length === 0">
        No information here yet.
    </div>
    <div *ngIf="guide.steps && guideSteps.length > 0">
        <ion-slides pager="true"
                    [options]="slideOpts"
        >
            <ion-slide  class="ion-padding" *ngFor="let step of guideSteps">
                <img *ngIf="step.isImageAttachedFile()"
                     (click)="openFile(step.getApiFilePath(), step.getLocalFilePath(), guide.title)"
                     src="{{ step.getFile() }}"
                     imageViewer
                >
                <ion-icon name="videocam"
                          class="videocam"
                          slot="start"
                          *ngIf="step.isVideoAttachedFile()"
                          (click)="openFile(step.getApiFilePath(), step.getLocalFilePath())"
                >
                </ion-icon>
                <img *ngIf="!step.isImageAttachedFile() && !step.isVideoAttachedFile()" src="/assets/placeholder.jpg" imageViewer>
                <h2>{{step.title}}</h2>
                <p [innerHTML]="step.description_html"></p>
            </ion-slide>
        </ion-slides>
        <ion-card class="ion-text-center">
            <section *ngIf="guideAssets.length">
                <h2>
                    Assets
                </h2>
                <div *ngFor="let asset of guideAssets; trackBy: trackGuideAsset">
                    <div class="ion-text-center" *ngIf="asset.isFile() && asset.isPdf()">
                        <img (click)="openFile(asset.getApiPdfImageFilePath(), asset.getLocalPdfImageFilePath(), asset.name)"
                             class="pdf-image"
                             src="{{ asset.getPdf() }}" imageViewer
                        >
                    </div>
                    <div *ngIf="asset.isFile() && !asset.isPdf()">
                        <img (click)="openFile(asset.getApiFilePath(), asset.getLocalFilePath(), asset.name)"
                             class="pdf-image"
                             src="{{ asset.getAssetFile() }}" imageViewer
                        >
                    </div>
                    <ion-button *ngIf="!asset.isFile()" color="medium" (click)="openAssetTextModal(asset)">
                        {{ asset.name }}
                    </ion-button>
                </div>
            </section>
        </ion-card>

    </div>

</ion-content>
